<!doctype html><html lang="en"><head>    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>    <meta http-equiv="X-UA-Compatible" content="IE=edge">    <meta content="width=device-width,myInitial-scale=1.0,maximum-scale=1.0,user-scalable=no" id="viewport" name="viewport">    <title>Document</title>    <style>        h2 {            width: 200px;            height: 200px;            background-color: #ccc;        }    </style>    <link rel="stylesheet" href="css/style.css">    <script src="js/js.js"></script></head><body>        <h2></h2>    <audio id="shakemusic" src="music/red-01.mp3" style="display: none;"></audio>    <audio id="openmusic" src="music/red-02.mp3" style="display: none;"></audio>        <iframe src="" frameborder="0"></iframe></body></html><script>    init();    var SHAKE_THRESHOLD = 3000;    var last_update = 0;    var x = y = z = last_x = last_y = last_z = 0;    function init() {        if (window.DeviceMotionEvent) {            window.addEventListener('devicemotion', deviceMotionHandler, false);        } else {            alert('not support mobile event');        }    }    function deviceMotionHandler(eventData) {        var acceleration = eventData.accelerationIncludingGravity;        var curTime = new Date().getTime();        var audio = document.getElementById("shakemusic");        var openAudio = document.getElementById("openmusic");        if ((curTime - last_update) > 100) {            var diffTime = curTime - last_update;            last_update = curTime;            x = acceleration.x;            y = acceleration.y;            z = acceleration.z;            var speed = Math.abs(x + y + z - last_x - last_y - last_z) / diffTime * 10000;            if (speed > SHAKE_THRESHOLD) {                alert("摇动了");                audio.play();                setTimeout(function(){                    audio.pause();                    openAudio.play();                }, 1500);            }            last_x = x;            last_y = y;            last_z = z;        }    }</script>